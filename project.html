---
layout: default
title: Projects
permalink: /project/
---

  <div class="main-content">
  <h3><a id="project" class="anchor" href="#project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adv Science Gateway Architecture</h3>
	<p>Two-Phase Commit
      <ul>
  	<li>What was the problem you tried to solve?</li>
	      There is an open problem in Apache Airavata to obtain consistency over all the databases distributed and bound to microservices. There are many ways to obtain consistency. Eventual consistency can be an option if the data need not be updated across all databases. <br>
	<li>How did you solve it?</li>
	     There are 2 ways to solve it: Eventual Consistency and Immediate Consistency. 
	     This git link explains eventual consistency: <a target="_blank" href="https://github.com/airavata-courses/spring17-microservice-data-management">Microservice Data Management through Event-Driven Approach</a> 
	     To obtain immediate consistency we need to utilise Two Phase Commit. Two Phase Commit has 2 phases as the name says. <br>
	      <ul>
		      <li> Phase 1: Prepare Phase </li>
		      	
		      <li> Phase 2: Commit Phase </li>
	      </ul><br>
	      More about this is explained here: <a target="_blank" href="https://github.com/airavata-courses/spring17-microservice-data-management/wiki/Two-Phase-Commit-Explained">Two-Phase Commit Explained</a> <br>
	      In case of a Distributed system that has microservice implemented and each of the database is tightly bound to the microservice implementation. In this case there should be a Global Transaction Manager which will have all the data sources connected to it directly. This also means that the transaction manager consists of database schemas. 
	      Once one of the microservice initiates a transaction it has to go through the global transaction manager which triggers a prepare phase. Once the prepare phase is gone through successfully only then it triggers the commit phase. At this point all of the database related activities must be performed within one transaction module. Having a global transaction manager is one of the approach. 
	      There are other approaches such as in this link: <a target="_blank" href="http://blog.aspiresys.com/software-product-engineering/producteering/distributed-transactions-in-microservices/">Ditributed Transactions in Microservices</a>.
	      <br>
	      Steps involved in the non-global transaction manager approach:
	      <ul>
		      <li>Step 1: Microservice A initiates a database transaction. (transaction.begin()) </li>
		      <li>Step 2: Triggers request to all other related services. (prepare phase) </li>
		      <li>Step 3: Successfully returns a response that all the services can commit. </li>
		      <li>Step 4: Microservice A triggers commit transaction to all the services. </li>
		      <li>Step 5: After all of them acknowledge the successsful commit, Microservice will commit to it's own. </li>
	      </ul>
	      <br>
	      If any of the step fails after Step 2. Microservice A will be responsible in sending a rollback request to all the microservices. This approach becomes synchronous in that it has to wait for all the related services to reply to the initiating service. This is just one of the two approach in Two-phase commit.
	      <br>
	<li>How did you evaluate your solution?</li>
	      We are currently in process of evaluating the solution. In Apache Airavata no two microservices are tightly bound. Hence it does not require all of the microservice to be immediately consistent. But we are trying to come across a scenario where this apporach can be utilised for the data to be available. Although some of the implementations of two-phase comes with an asynchronous transaction manager this has to be evaluated in terms of time taken. 
      </ul><br>
	Section 2 : Wiki
      <ul>
	      <li>Link to Wiki</li>
	      <li> <a target="_blank" href="https://github.com/airavata-courses/spring17-microservice-data-management/wiki/Two-Phase-Commit-Explained">Two-Phase Commit Explained</a> </li>
      </ul><br>
	  Section 3 : Git Commits
      <ul>
  		  <li>List of git commits:<li>
      </ul><br>
	  Section 4 : Discussion on Developer List 
      <ul>
      </ul><br>
	  Section 6 : Airavata Pull Requests
      <ul>

      </ul><br>
	  </p>
<hr>
    <p> Laravel Portal Project
      <ul>
  	<li>What was the problem you tried to solve?</li>
	      Deploying of Laravel on Amazon instance and containerizing the portal in docker. I had to make the portal work with the install scripts which will not be dependant on the system that it's running.
	<li>How did you solve it?</li>
	      Docker scripts was used to run and build the docker image. This pulls the latest code, builds and deploys it to the container. This deletes the container and the image before deploying. 
	      Even before the zip is deployed this will install the dependencies like Composer and Zip. After changing the permissions of the folder, the `composer install` downloads all the package. 
	      Then copy `.env.example` to `.env` to generate key and run the server. 3 portals will be exposed 3000, 4000 and 5000 for laravel portal.
	<li>How did you evaluate your solution?</li>
	      Portal once exposed from docker it can be accessed outside as well. So once you go to the particular portal:port via browser this will be open. 
      </ul><br>
	Section 2 : Wiki
      <ul>
	      <li>Link to Wiki</li>
      </ul><br>
	  Section 3 : Git Commits
      <ul>
  		  <li>List of git commits:<li>
	      	<li><a target="_blank" href="https://github.com/airavata-courses/spring17-laravel-portal/issues/10">Issues with script.sh while running from outside #10</a></li>
	      <li><a target="_blank" href="https://github.com/airavata-courses/spring17-laravel-portal/issues/8">Containerizing Laravel Portal from running on the instance #8</a></li>
	      <li><a target="_blank" href="https://github.com/airavata-courses/spring17-laravel-portal/issues/6">Setup Laravel to work on remote instance #6</a></li>
      </ul><br>
<!-- 	  Section 4 : Discussion on Developer List 
      <ul>
  		  <li>Have not started any discussion on the dev list but planning to</li>
      </ul><br>
	  Section 5 : Airavata Jira 
      <ul>
  		  <li>None so far but planning to.</li>
      </ul><br>
	  Section 6 : Airavata Pull Requests
      <ul>
  		  <li>There has been no pull requests yet but I am planning to do it.</li>
      </ul><br> -->
	  </p>
  </div>
